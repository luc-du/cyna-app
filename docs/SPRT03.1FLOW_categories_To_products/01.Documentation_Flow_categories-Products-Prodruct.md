# Documentation fonctionnelle ‚Äì Flow `Cat√©gories ‚Üí Produits ‚Üí D√©tail Produit`

**Sprint** : `SPRT03.FLOW/category-product-details`
**Pages concern√©es** :

- `/categories`
- `/categories/:categoryId`
- `/products/:productId`
- `/search` (entr√©e transversale)

---

## Objectif utilisateur

Permettre √† l‚Äôutilisateur de :

1. Explorer les **cat√©gories de services** (SOC, EDR, etc.)
2. Voir les produits associ√©s √† une cat√©gorie
3. Acc√©der √† la **fiche compl√®te** d‚Äôun produit
4. Ajouter un produit √† son panier
5. Rechercher un produit par mot-cl√©

---

## Structure technique

### `CategoriesGrid.jsx`

- Affiche la liste des cat√©gories
- Rendu en grille responsive (1 ‚Üí 2 ‚Üí 3 colonnes)
- Chargement dynamique depuis API ou mock fallback
- Utilise `CategoryCard` avec :

  - `image`
  - `name`
  - Lien vers `/categories/:categoryId`

---

### üîπ `CategoryDetails.jsx`

- R√©cup√®re les produits d‚Äôune cat√©gorie
- Affiche :

  - `CategoryHeader` (banni√®re)
  - `CategoryDescription`
  - `CategoryProductList`

- G√®re :

  - Erreurs via `DataStatus`
  - Produits inexistants via `NoResult`
  - Fallback mock si n√©cessaire

---

### üîπ `CategoryProductList.jsx`

- G√®re l‚Äôaffichage hybride : produits API ou mock
- Trie les produits :

  1. Promo active
  2. Actifs
  3. Inactifs

- Affiche chaque `ProductCard`
- Responsive en 1 ‚Üí 2 ‚Üí 3 colonnes (`grid-cols-*`)

---

### üîπ `ProductDetails.jsx`

- R√©cup√©ration via API ou mock
- Contient 4 sections :

  1. `ProductCarousel` (images)
  2. `ProductInfo` (nom, description, prix, statut)
  3. `ProductSpecs` (marque, mod√®le tarifaire)
  4. `ProductCTA` (ajout au panier + toast)

- Comportement responsive + accessible
- Dark mode complet avec contraste v√©rifi√©

---

### üîπ `SearchBar.jsx`

- Barre de recherche disponible dans la `Navbar`
- Fonctionnement :

  - Debounce (300ms)
  - Navigation automatique vers `/search`
  - Clean si champ vid√© ou page quitt√©e

- Accessibilit√© : `aria-label`, bouton clear
- Compatible dark mode

> La page `/search` consomme le `searchSlice` avec `keyword` + fallback mock si besoin

---

## ‚ôø Accessibilit√© & Responsive

| √âl√©ment                             | Conformit√©                          |
| ----------------------------------- | ----------------------------------- |
| Structure unique du DOM             | ‚úÖ Pas de doublon `<main>`          |
| Aria-labels sur toutes les sections | ‚úÖ                                  |
| `role="region"`, `aria-labelledby`  | ‚úÖ                                  |
| Responsive full laptop/desktop      | ‚úÖ                                  |
| Dark mode avec contraste suffisant  | ‚úÖ corrig√© dans tous les composants |

---

## üîÅ Cas particuliers g√©r√©s

| Cas                    | Comportement                                 |
| ---------------------- | -------------------------------------------- |
| Produit non disponible | Bouton CTA gris√© avec message "Indisponible" |
| Produit introuvable    | Redirection `/404`                           |
| Produits mock√©s        | Fallback int√©gr√©                             |
| Cat√©gorie sans produit | `NoResult` avec image                        |

---

## Bonnes pratiques respect√©es

- Composants d√©coup√©s (`ProductInfo`, `ProductSpecs`, `ProductCTA`, etc.)
- Toasts int√©gr√©s dans CTA
- Fallback mock pour les d√©monstrations et environnements instables
- Structure CSS harmonis√©e avec Tailwind (`shadow`, `ring`, `dark:bg-*`, `text-*`)
- Donn√©es typ√©es avec `PropTypes` stricts

---

## √âvolutions possibles

- Ajouter des filtres dans `CategoryProductList` (prix, mod√®le tarifaire, marque‚Ä¶)
- Meilleure indexation fulltext sur `/search`
- Ajout de suggestions de produits similaires
- Page 404 personnalis√©e pour les produits/categories non trouv√©s

---

Souhaites-tu :

- ce document en **fichier markdown `03.FLOW_category-product-details.md`** dans ton dossier `SPRT03`
- ou que je pr√©pare aussi une version **README public** √©pur√©e pour usage d√©p√¥t GitHub ?
